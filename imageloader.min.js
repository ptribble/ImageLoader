function ImageLoader(d){var f=this;var h,a;this.imageCount=d.images.length;this.images=new Array(this.imageCount);this.begun=false;this.onAllLoaded=null;if(d.onAllLoaded!=undefined){this.onAllLoaded=d.onAllLoaded}this.onImageLoaded=null;if(d.onImageLoaded!=undefined){this.onImageLoaded=d.onImageLoaded}for(i=0;i<this.imageCount;i++){var b="";var g=0;if(d.images[i].name!=undefined){b=d.images[i].name}if(d.images[i].id!=undefined){g=d.images[i].id}this.images[i]=new e(b,g,i,d.images[i].file)}this.begun=true;this.getImageByPosition=function(k){for(i=0;i<this.imageCount;i++){if(k==this.images[i].position){if(this.images[i].loaded){return this.images[i].image}else{return null}}}return undefined};this.getImageById=function(k){for(i=0;i<this.imageCount;i++){if(k==this.images[i].id){if(this.images[i].loaded){return this.images[i].image}else{return null}}}return undefined};this.getImageByName=function(k){for(i=0;i<this.imageCount;i++){if(k==this.images[i].name){if(this.images[i].loaded){return this.images[i].image}else{return null}}}return undefined};this.loadedIds=function(k){if(this.begun){for(j=0;j<k.length;j++){for(i=0;i<this.imageCount;i++){if(k[j]==this.images[i].id){if(this.images[i].loaded==false){return false}}}}return true}return false};this.loadedNames=function(k){if(this.begun){for(j=0;j<k.length;j++){for(i=0;i<this.imageCount;i++){if(k[j]==this.images[i].name){if(this.images[i].loaded==false){return false}}}}return true}return false};this.loadedAll=function(){if(this.begun){for(i=0;i<this.imageCount;i++){if(this.images[i].loaded==false){return false}}return true}return false};var c=function(k){for(i=0;i<f.imageCount;i++){if(k==f.images[i].position){f.images[i].Done();if(f.onImageLoaded!=null){f.onImageLoaded(f.images[i].name,f.images[i].image)}}}h()};h=function(){for(i=0;i<f.imageCount;i++){if(!f.images[i].loaded){return}}a()};a=function(){if(f.onAllLoaded!=null){f.onAllLoaded()}};function e(l,o,k,m){var n=this;this.name=l;this.id=o;this.position=k;this.file=m;this.loaded=false;this.image=new Image();this.image.onload=function(){c(n.position)};this.image.src=this.file;this.Done=function(){n.loaded=true;n.image.onload=n.image.onabort=n.image.onerror=null}}};
